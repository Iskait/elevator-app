(function(){"use strict";var e={2231:function(e,t,s){var r=s(9963),o=s(2201),a=s(6252);function l(e,t,s,r,o,l){const n=(0,a.up)("lift-shaft"),i=(0,a.up)("shaft-control");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(n),(0,a.Wm)(i)],64)}const n={class:"lift-shaft"},i={class:"lift-shaft__slide"};function u(e,t,s,r,o,l){const u=(0,a.up)("stages"),c=(0,a.up)("elevator");return(0,a.wg)(),(0,a.iD)("div",n,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.elevators,(t=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(u),(0,a.Wm)(c,{position:100/e.stages*t.level-100/e.stages,free:t.free,done:t.done,level:t.level,currentStage:t.currentStage,id:t.id},null,8,["position","free","done","level","currentStage","id"])])))),256))])}var c=s(3577);const v={class:"stages"};function d(e,t,s,r,o,l){return(0,a.wg)(),(0,a.iD)("div",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.stages,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"stages__level",style:(0,c.j5)({height:100/e.stages+"%"})},null,4)))),256))])}var g=s(3907),f={computed:{...(0,g.rn)({stages:e=>e.setModule.stages})}},p=s(3744);const h=(0,p.Z)(f,[["render",d],["__scopeId","data-v-9231adba"]]);var m=h;const S={key:0,class:"elevator__display"};function _(e,t,s,r,o,l){return(0,a.wg)(),(0,a.iD)("div",{style:(0,c.j5)({bottom:`${s.position}%`,height:100/e.stages+"%",transition:`all ${Math.abs(s.level-s.currentStage)}s ease-in-out`}),class:(0,c.C_)({elevator:!0,elevator__done:s.done})},[s.free?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",S,[(0,a.Uk)((0,c.zw)(s.level)+" ",1),s.level!==s.currentStage?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"elevator__arrow",style:(0,c.j5)({transform:`rotate(${s.level>s.currentStage?"0deg":"180deg"})`})},"â†‘",4)):(0,a.kq)("",!0)]))],6)}var b={props:{position:Number,level:Number,currentStage:Number,done:Boolean,free:Boolean,id:Number},computed:{...(0,g.rn)({queue:e=>e.elevatorsModule.queue,stages:e=>e.setModule.stages})},methods:{...(0,g.OI)(["readyElevator","startElevator","stopElevator"]),forceStart(){if(this.currentStage===this.level&&this.done===this.free&&(this.free=!0),!this.queue.length)return;const e=Math.abs(this.queue[0]-this.currentStage);this.startElevator({id:this.id,level:this.queue[0]}),setTimeout((()=>{this.stopElevator({id:this.id})}),1e3*e)}},watch:{done(e){e&&setTimeout((()=>this.readyElevator({id:this.id})),3e3)},free(e){e&&this.forceStart()}},mounted(){this.forceStart(),this.done&&setTimeout((()=>this.readyElevator({id:this.id})),3e3)},updated(){}};const w=(0,p.Z)(b,[["render",_],["__scopeId","data-v-12025852"]]);var O=w,y={components:{Stages:m,Elevator:O},computed:{...(0,g.rn)({stages:e=>e.setModule.stages,slides:e=>e.setModule.slides,elevators:e=>e.elevatorsModule.elevators})},methods:{...(0,g.OI)(["setLevel"])}};const I=(0,p.Z)(y,[["render",u],["__scopeId","data-v-493cdd48"]]);var D=I;s(6699);const E=e=>((0,a.dD)("data-v-193e1521"),e=e(),(0,a.Cn)(),e),M={class:"shaft-control"},q={class:"shaft-control__level"},N=["onClick"],k=E((()=>(0,a._)("span",null,null,-1))),C=[k];function J(e,t,s,r,o,l){return(0,a.wg)(),(0,a.iD)("div",M,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.stages,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"shaft-control__manual",key:t},[(0,a._)("p",q,(0,c.zw)(t),1),(0,a._)("button",{onClick:s=>e.setQueue(t),class:(0,c.C_)({"shaft-control__button":!0,active:e.performingStages.includes(t)})},C,10,N)])))),128))])}var j={computed:{...(0,g.rn)({stages:e=>e.setModule.stages,queue:e=>e.elevatorsModule.queue,performingStages:e=>e.elevatorsModule.performingStages,elevators:e=>e.elevatorsModule.elevators})},methods:{...(0,g.OI)(["setQueue","startElevator","stopElevator"])},watch:{queue:{deep:!0,handler(e){if(e.length){const t=this.elevators.filter((t=>t.free&&t.level!==e[0])),s=t.sort(((t,s)=>Math.abs(t.currentStage-e[0])-Math.abs(s.currentStage-e[0])))[0];if(s){const{id:t,currentStage:r}=s,o=Math.abs(r-e[0]);this.startElevator({id:t,level:e[0]}),setTimeout((()=>{this.stopElevator({id:t})}),1e3*o)}}}}}};const T=(0,p.Z)(j,[["render",J],["__scopeId","data-v-193e1521"]]);var Z=T,x={components:{liftShaft:D,ShaftControl:Z}};const z=(0,p.Z)(x,[["render",l]]);var A=z;const H=e=>((0,a.dD)("data-v-d2f77cd2"),e=e(),(0,a.Cn)(),e),Y={class:"set"},F={class:"set__container"},K={class:"set__block"},W=H((()=>(0,a._)("h2",{class:"set__title"},"Select the number of floors and shafts",-1))),$={class:"set__options"},P={class:"set__type"},Q={class:"set__text"},B=["value"],L={class:"set__type"},U={class:"set__text"},G=["value"];function R(e,t,s,r,o,l){return(0,a.wg)(),(0,a.iD)("div",Y,[(0,a._)("div",F,[(0,a._)("div",K,[W,(0,a._)("div",$,[(0,a._)("div",P,[(0,a._)("p",Q,"Numbers of floors: "+(0,c.zw)(o.numberOfFloors),1),(0,a._)("select",{onChange:t[0]||(t[0]=e=>o.numberOfFloors=+e.target.value)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.floors,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e},(0,c.zw)(e),9,B)))),256))],32)]),(0,a._)("div",L,[(0,a._)("p",U,"Numbers of shafts: "+(0,c.zw)(o.numberOfShafts),1),(0,a._)("select",{onChange:t[1]||(t[1]=e=>o.numberOfShafts=+e.target.value)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.shafts,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e},(0,c.zw)(e),9,G)))),256))],32)])]),(0,a._)("button",{class:"set__btn",onClick:t[2]||(t[2]=(...e)=>l.startApp&&l.startApp(...e))},"Start")])])])}var V={data(){return{floors:[...Array(18)].map(((e,t)=>t+3)),shafts:[...Array(10)].map(((e,t)=>++t)),numberOfFloors:3,numberOfShafts:1}},methods:{...(0,g.OI)(["setSlides","setStages","setElevators"]),startApp(){localStorage.clear(),this.setStages(this.numberOfFloors),this.setSlides(this.numberOfShafts),this.setElevators(this.numberOfShafts),this.$router.push("/elevator-app/mine")}},computed:{...(0,g.rn)({stages:e=>e.setModule.stages})}};const X=(0,p.Z)(V,[["render",R],["__scopeId","data-v-d2f77cd2"]]);var ee=X;const te=[{path:"/elevator-app/",component:ee},{path:"/elevator-app/mine",component:A}],se=(0,o.p7)({routes:te,history:(0,o.PO)()});var re=se;const oe={class:"wrapper"};function ae(e,t,s,r,o,l){const n=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",oe,[(0,a.Wm)(n)])}var le={};const ne=(0,p.Z)(le,[["render",ae]]);var ie=ne;const ue={state:()=>({slides:+localStorage.getItem("slides")||1,stages:+localStorage.getItem("stages")||5}),mutations:{setSlides(e,t){e.slides=t,localStorage.setItem("slides",t)},setStages(e,t){e.stages=t,localStorage.setItem("stages",t)}}},ce={state:()=>({elevators:JSON.parse(localStorage.getItem("elevators"))||[],queue:JSON.parse(localStorage.getItem("performingStages"))||[],performingStages:JSON.parse(localStorage.getItem("performingStages"))||[]}),mutations:{setQueue(e,t){e.queue.includes(t)||e.elevators.some((e=>e.level===t))||(e.queue=e.queue.concat(t),localStorage.setItem("queue",JSON.stringify(e.queue)),e.performingStages.push(t),localStorage.setItem("performingStages",JSON.stringify(e.performingStages)))},setElevators(e,t){e.elevators=[...Array(t)].map(((e,t)=>({id:t,free:!0,done:!1,currentStage:1,level:1}))),localStorage.setItem("elevators",JSON.stringify(e.elevators))},startElevator(e,{id:t,level:s}){const r=e.elevators.find((e=>e.id===t));r.level=s,r.free=!1,e.queue.shift(),localStorage.setItem("elevators",JSON.stringify(e.elevators))},stopElevator(e,{id:t}){const s=e.elevators.find((e=>e.id===t));s.currentStage=s.level,s.done=!0,localStorage.setItem("elevators",JSON.stringify(e.elevators))},readyElevator(e,{id:t}){const s=e.elevators.find((e=>e.id===t));s.done=!1,s.free=!0,e.performingStages.shift(),localStorage.setItem("performingStages",JSON.stringify(e.performingStages)),localStorage.setItem("elevators",JSON.stringify(e.elevators))}}};var ve=(0,g.MT)({modules:{setModule:ue,elevatorsModule:ce}});(0,r.ri)(ie).use(re).use(ve).mount("#app")}},t={};function s(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,r,o,a){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],a=e[c][2];for(var n=!0,i=0;i<r.length;i++)(!1&a||l>=a)&&Object.keys(s.O).every((function(e){return s.O[e](r[i])}))?r.splice(i--,1):(n=!1,a<l&&(l=a));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,l=r[0],n=r[1],i=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(i)var c=i(s)}for(t&&t(r);u<l.length;u++)a=l[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},r=self["webpackChunkelevator_app"]=self["webpackChunkelevator_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(2231)}));r=s.O(r)})();
//# sourceMappingURL=app.923af792.js.map